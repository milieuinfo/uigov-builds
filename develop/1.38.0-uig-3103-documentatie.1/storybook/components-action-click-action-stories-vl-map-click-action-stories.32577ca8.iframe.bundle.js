(self.webpackChunkstorybook=self.webpackChunkstorybook||[]).push([[3368],{"../../node_modules/@storybook/addon-docs/node_modules/@mdx-js/react/lib/index.js":(e,t,s)=>{"use strict";s.d(t,{BN:()=>o,RP:()=>i,gz:()=>a,xA:()=>l});var r=s("../../node_modules/react/index.js");let o=r.createContext({});function a(e){return function(t){let s=i(t.components);return r.createElement(e,{...t,allComponents:s})}}function i(e){let t=r.useContext(o);return r.useMemo(()=>"function"==typeof e?e(t):{...t,...e},[t,e])}let n={};function l({components:e,children:t,disableParentContext:s}){let a;return a=s?"function"==typeof e?e({}):e||n:i(e),r.createElement(o.Provider,{value:a},t)}},"../../libs/map/src/components/action/click-action/stories/vl-map-click-action.stories.ts":(e,t,s)=>{"use strict";s.r(t),s.d(t,{MapClickActionDefault:()=>b,__namedExportsOrder:()=>v,default:()=>_});var r=s("../../libs/common/storybook/src/index.ts"),o=s("../../node_modules/lit/index.js");s("../../libs/map/src/vl-map.ts"),s("../../libs/map/src/components/baselayer/vl-map-base-layer-grb-gray/vl-map-base-layer-grb-gray.ts"),s("../../libs/map/src/components/layer/vector-layer/vl-map-features-layer/vl-map-features-layer.ts");var a=s("../../node_modules/ol/Overlay.js"),i=s("../../node_modules/lit/decorators.js"),n=s("../../libs/common/utilities/src/index.ts");class l extends n.jW{static{this.styles=(0,o.AH)`
        :host {
            /* Set the marker size here */
            width: 2rem;
            height: 2rem;
            border-radius: 2rem;
            /* Set the marker color here */
            background: #0039aaff;

            display: inline-block;
            border-bottom-right-radius: 0;
            position: relative;
            transform: rotate(45deg);

            /* optional fanciness */
            border: 1px solid #0039aaff;
        }

        :host::before {
            content: '';
            background: white;
            width: 50%;
            height: 50%;
            border-radius: 100%;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);

            /* optional fanciness */
            box-shadow: 0.1rem 0.1rem 0.2rem 0.1rem rgba(0, 0, 0, 0.1);
        }

        /* shadow (optional if you don't need a shadow) */

        :host::after {
            content: '';
            background: rgba(128, 128, 128, 0.2);
            width: 75%;
            height: 75%;
            border-radius: 100%;
            position: absolute;
            top: 100%;
            left: 100%;
            transform: translate(-50%, -50%) rotate(45deg) scaleX(0.5);
        }
    `}}l=function(e,t,s,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,s,r);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(i=(a<3?o(i):a>3?o(t,s,i):o(t,s))||i);return a>3&&i&&Object.defineProperty(t,s,i),i}([(0,i.EM)("vl-map-click-action-pindrop")],l);let c="vl-map-clicked";class u extends Event{static{this.eventType=c}constructor(e,t,s){super(c,{bubbles:!0}),this.coordinate=e,this.resolution=t,this.projection=s}}class d extends n.jW{constructor(){super(),this.handleClick=e=>{if(!this.mapRef?.map)return;let t=this.mapRef.map.getOverlays().getArray().includes(this.overlay);this.overlay.setPosition(e.coordinate),t||this.mapRef.map.addOverlay(this.overlay),this.dispatchEvent(new u(e.coordinate,this.mapRef.map.getView().getResolution(),this.mapRef.map.getView().getProjection()))},this.overlay=new a.A({element:new l,positioning:"bottom-center",autoPan:{animation:{duration:250}}}),this.mapRef=null}connectedCallback(){super.connectedCallback(),this.mapRef=this.closest("vl-map"),this.mapRef?.map&&this.mapRef.map.on("singleclick",this.handleClick)}disconnectedCallback(){super.disconnectedCallback(),this.mapRef?.map&&(this.mapRef.map.removeOverlay(this.overlay),this.mapRef.map.un("singleclick",this.handleClick)),this.mapRef=null}}d=function(e,t,s,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,s,r);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(i=(a<3?o(i):a>3?o(t,s,i):o(t,s))||i);return a>3&&i&&Object.defineProperty(t,s,i),i}([(0,i.EM)("vl-map-click-action")],d);let h={...r.D8,onMapClicked:(0,r.Hh)("vl-map-clicked")},m={...(0,r.RN)(),onMapClicked:{name:"vl-map-clicked",description:"Afgevuurd wanneer er op de map geklikt wordt.<br>Het event bevat de locatie informatie, zie de console logs van Storybook voor het volledige event.",table:{type:{summary:"{ coordinate: Coordinate, resolution: number, projection: ProjectionLike }"},category:r.R6.EVENTS}}};s("../../node_modules/react/index.js");var p=s("../../node_modules/react/jsx-runtime.js"),f=s("../../node_modules/@storybook/addon-docs/node_modules/@mdx-js/react/lib/index.js"),g=s("../../node_modules/@storybook/blocks/dist/index.mjs");function y(e){let t=Object.assign({h1:"h1",p:"p",code:"code",a:"a",h2:"h2",pre:"pre"},(0,f.RP)(),e.components);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(t.h1,{id:"map-click-action",children:"Map Click Action"}),"\n",(0,p.jsxs)(t.p,{children:["Gebruik het ",(0,p.jsx)(t.code,{children:"map-click-action"})," component om een klikactie op de ",(0,p.jsx)(t.a,{href:"/docs/map-map--map-default",children:"map"})," op te vangen.",(0,p.jsx)("br",{}),"\nBij het klikken op de ",(0,p.jsx)(t.a,{href:"/docs/map-map--map-default",children:"map"})," wordt er een ",(0,p.jsx)(t.code,{children:"vl-map-click-action-pindrop"})," op de kaart geplaatst."]}),"\n",(0,p.jsx)(t.h2,{id:"voorbeeld",children:"Voorbeeld"}),"\n",(0,p.jsx)(t.pre,{children:(0,p.jsx)(t.code,{className:"language-js",children:"import { VlMapClickAction } from '@domg-wc/map';\n"})}),"\n",(0,p.jsx)(t.pre,{children:(0,p.jsx)(t.code,{className:"language-html",children:"<vl-map-click-action></vl-map-click-action>\n"})}),"\n",(0,p.jsx)(g.Hl,{of:b})]})}let _={title:"map/action/click-action",tags:["autodocs"],args:h,argTypes:m,parameters:{controls:{hideNoControlsWarning:!0},docs:{page:function(e={}){let{wrapper:t}=Object.assign({},(0,f.RP)(),e.components);return t?(0,p.jsx)(t,Object.assign({},e,{children:(0,p.jsx)(y,e)})):y(e)}}}},b=(0,r._7)(h,({onMapClicked:e})=>(0,o.qy)`
        <vl-map>
            <vl-map-baselayer-grb-gray></vl-map-baselayer-grb-gray>
            <vl-map-click-action @vl-map-clicked=${e}></vl-map-click-action>
        </vl-map>
    `);b.storyName="vl-map-click-action - default",b.parameters={...b.parameters,docs:{...b.parameters?.docs,source:{originalSource:"story(mapClickActionArg, ({\n  onMapClicked\n}) => html`\n        <vl-map>\n            <vl-map-baselayer-grb-gray></vl-map-baselayer-grb-gray>\n            <vl-map-click-action @vl-map-clicked=${onMapClicked}></vl-map-click-action>\n        </vl-map>\n    `)",...b.parameters?.docs?.source}}};let v=["MapClickActionDefault"]},"../../node_modules/lit/decorators.js":(e,t,s)=>{"use strict";s.d(t,{EM:()=>r,MZ:()=>n});/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let r=e=>(t,s)=>{void 0!==s?s.addInitializer(()=>{customElements.define(e,t)}):customElements.define(e,t)};var o=s("../../node_modules/@lit/reactive-element/reactive-element.js");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let a={attribute:!0,type:String,converter:o.W3,reflect:!1,hasChanged:o.Ec},i=(e=a,t,s)=>{let{kind:r,metadata:o}=s,i=globalThis.litPropertyMetadata.get(o);if(void 0===i&&globalThis.litPropertyMetadata.set(o,i=new Map),i.set(s.name,e),"accessor"===r){let{name:r}=s;return{set(s){let o=t.get.call(this);t.set.call(this,s),this.requestUpdate(r,o,e)},init(t){return void 0!==t&&this.C(r,void 0,e),t}}}if("setter"===r){let{name:r}=s;return function(s){let o=this[r];t.call(this,s),this.requestUpdate(r,o,e)}}throw Error("Unsupported decorator location: "+r)};function n(e){return(t,s)=>"object"==typeof s?i(e,t,s):((e,t,s)=>{let r=t.hasOwnProperty(s);return t.constructor.createProperty(s,r?{...e,wrapped:!0}:e),r?Object.getOwnPropertyDescriptor(t,s):void 0})(e,t,s)}},"../../node_modules/memoizerific sync recursive":e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id="../../node_modules/memoizerific sync recursive",e.exports=t},"../../node_modules/ol/source/Cluster.js":(e,t,s)=>{"use strict";s.d(t,{A:()=>h});var r=s("../../node_modules/ol/events/EventType.js"),o=s("../../node_modules/ol/Feature.js"),a=s("../../node_modules/ol/geom/Point.js"),i=s("../../node_modules/ol/source/Vector.js"),n=s("../../node_modules/ol/coordinate.js"),l=s("../../node_modules/ol/asserts.js"),c=s("../../node_modules/ol/extent.js"),u=s("../../node_modules/ol/util.js");class d extends i.A{constructor(e){super({attributions:e.attributions,wrapX:e.wrapX}),this.resolution=void 0,this.distance=void 0!==e.distance?e.distance:20,this.minDistance=e.minDistance||0,this.interpolationRatio=0,this.features=[],this.geometryFunction=e.geometryFunction||function(e){let t=e.getGeometry();return(0,l.v)(!t||"Point"===t.getType(),"The default `geometryFunction` can only handle `Point` or null geometries"),t},this.createCustomCluster_=e.createCluster,this.source=null,this.boundRefresh_=this.refresh.bind(this),this.updateDistance(this.distance,this.minDistance),this.setSource(e.source||null)}clear(e){this.features.length=0,super.clear(e)}getDistance(){return this.distance}getSource(){return this.source}loadFeatures(e,t,s){this.source.loadFeatures(e,t,s),t!==this.resolution&&(this.resolution=t,this.refresh())}setDistance(e){this.updateDistance(e,this.minDistance)}setMinDistance(e){this.updateDistance(this.distance,e)}getMinDistance(){return this.minDistance}setSource(e){this.source&&this.source.removeEventListener(r.A.CHANGE,this.boundRefresh_),this.source=e,e&&e.addEventListener(r.A.CHANGE,this.boundRefresh_),this.refresh()}refresh(){this.clear(),this.cluster(),this.addFeatures(this.features)}updateDistance(e,t){let s=0===e?0:Math.min(t,e)/e,r=e!==this.distance||this.interpolationRatio!==s;this.distance=e,this.minDistance=t,this.interpolationRatio=s,r&&this.refresh()}cluster(){if(void 0===this.resolution||!this.source)return;let e=(0,c.S5)(),t=this.distance*this.resolution,s=this.source.getFeatures(),r={};for(let o=0,a=s.length;o<a;o++){let a=s[o];if(!((0,u.v6)(a) in r)){let s=this.geometryFunction(a);if(s){let o=s.getCoordinates();(0,c.dP)(o,e),(0,c.r)(e,t,e);let a=this.source.getFeaturesInExtent(e).filter(function(e){let t=(0,u.v6)(e);return!(t in r)&&(r[t]=!0,!0)});this.features.push(this.createCluster(a,e))}}}}createCluster(e,t){let s=[0,0];for(let t=e.length-1;t>=0;--t){let r=this.geometryFunction(e[t]);r?(0,n.WQ)(s,r.getCoordinates()):e.splice(t,1)}(0,n.hs)(s,1/e.length);let r=(0,c.q1)(t),i=this.interpolationRatio,l=new a.A([s[0]*(1-i)+r[0]*i,s[1]*(1-i)+r[1]*i]);return this.createCustomCluster_?this.createCustomCluster_(l,e):new o.A({geometry:l,features:e})}}let h=d},"../../node_modules/react/cjs/react-jsx-runtime.production.min.js":(e,t,s)=>{"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=s("../../node_modules/react/index.js"),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,n=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,s){var r,a={},c=null,u=null;for(r in void 0!==s&&(c=""+s),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:a,_owner:n.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},"../../node_modules/react/jsx-runtime.js":(e,t,s)=>{"use strict";e.exports=s("../../node_modules/react/cjs/react-jsx-runtime.production.min.js")},"../../libs/map/src/components/baselayer/vl-map-base-layer-grb-gray/vl-map-base-layer-grb-gray.ts":(e,t,s)=>{"use strict";var r=s("../../libs/common/utilities/src/index.ts"),o=s("../../libs/map/src/components/baselayer/vl-map-base-layer.ts");class a extends o.j{constructor(){super(),this.url="https://geo.api.vlaanderen.be/GRB/wmts",this.layer="grb_bsk_grijs",this.title="GRB basis laag grijs"}}a=function(e,t,s,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,s,r);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(i=(a<3?o(i):a>3?o(t,s,i):o(t,s))||i);return a>3&&i&&Object.defineProperty(t,s,i),i}([(0,r.M1)("vl-map-baselayer-grb-gray")],a)},"../../libs/map/src/components/layer/vector-layer/vl-map-features-layer/vl-map-features-layer.ts":(e,t,s)=>{"use strict";var r=s("../../libs/common/utilities/src/index.ts"),o=s("../../node_modules/ol/format/GeoJSON.js"),a=s("../../node_modules/ol/geom/Point.js"),i=s("../../node_modules/ol/source/Cluster.js"),n=s("../../node_modules/ol/source/Vector.js"),l=s("../../libs/map/src/components/layer/vector-layer/vl-map-vector-layer.ts");class c extends l.P{static get _observedAttributes(){return l.P._observedAttributes.concat(["auto-extent","features"])}constructor(){super()}init(){this._geoJSON=new o.A,this._source=this.__createSource(),this._layer=this._createLayer()}async connectedCallback(){this.init(),await super.connectedCallback(),this._autoZoomToExtent()}get features(){return this.__featuresSource?this.__featuresSource.getFeatures():this._featuresFromAttribute}get _featuresFromAttribute(){let e=this.getAttribute("features");return e?this.__readGeoJsonFeatures(e):[]}set features(e){this.setAttribute("features",JSON.stringify(e))}get _autoExtent(){return void 0!=this.getAttribute("auto-extent")}get _autoExtentMaxZoom(){return this.getAttribute("auto-extent-max-zoom")}get cluster(){return void 0!=this.getAttribute("cluster")}get _clusterDistance(){return this.getAttribute("cluster-distance")}removeFeaturesStyle(){this.__featuresSource&&this.__featuresSource.getFeatures()&&this.__featuresSource.getFeatures().forEach(e=>{e.setStyle(null)})}getFeature(e){if(this.__featuresSource&&this.__featuresSource.getFeatures())return this.__featuresSource.getFeatures().filter(t=>t.getId()===e)[0]}getCluster(e){if(this._layer)return this._layer.getSource().getFeatures().filter(t=>{let s=t.get("features");return!!s&&s.some(t=>t.getId()===e)})[0]}async zoomToExtent(e){this.mapElement&&this.boundingBox&&this.mapElement.zoomTo(this.boundingBox,e)}clearFeatures(){this.__featuresSource&&(this.__featuresSource.clear(),this._featuresChanged())}addFeature(e){this.__featuresSource&&(this.__featuresSource.addFeatures([this._geoJSON.readFeature(e)]),this._featuresChanged())}addFeatureCollection(e){this.__featuresSource&&(this.__featuresSource.addFeatures(this._geoJSON.readFeatures(e)),this._featuresChanged())}_autoExtentChangedCallback(){this._autoZoomToExtent()}_featuresChangedCallback(e,t){t&&this._layer&&(this.__featuresSource.clear(),this.__featuresSource.addFeatures(this.__readGeoJsonFeatures(t)),this._featuresChanged())}_featuresChanged(){this._autoZoomToExtent(),this.rerender()}_autoZoomToExtent(){this._autoExtent&&this.zoomToExtent(this._autoExtentMaxZoom)}get boundingBox(){if(this.__featuresSource&&this.__featuresSource.getFeatures().length>0)return this.__featuresSource.getExtent()}__createSource(){let e=new n.A({features:this.features});return this.cluster?this.__createClusterSource(e):e}__createClusterSource(e){return new i.A({distance:this._clusterDistance,source:e,geometryFunction:e=>{let t=e.getGeometry();return t instanceof a.A?t:this.__ignoreClustering()}})}get __featuresSource(){return this.cluster&&this.source?this.source.getSource():this.source}__ignoreClustering(){return null}__readGeoJsonFeatures(e){return this._geoJSON.readFeatures(e)}}c=function(e,t,s,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,s,r);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(i=(a<3?o(i):a>3?o(t,s,i):o(t,s))||i);return a>3&&i&&Object.defineProperty(t,s,i),i}([(0,r.M1)("vl-map-features-layer")],c)},"../../libs/map/src/components/layer/vector-layer/vl-map-vector-layer.ts":(e,t,s)=>{"use strict";s.d(t,{P:()=>i});var r=s("../../node_modules/ol/layer/Vector.js"),o=s("../../libs/map/src/components/layer-style/vl-map-layer-style.ts"),a=s("../../libs/map/src/components/layer/vl-map-layer.ts");class i extends a.M{static get EVENTS(){return{styleChanged:"style-changed"}}constructor(){super(),this.pendingLayerStyles=[],this._styles=[]}async connectedCallback(){await super.connectedCallback(),this.applyPendingStyles()}get style(){return this.layer?.getStyle()||null}set style(e){this._layer?this.applyStyle(e):this.pendingLayerStyles=[...this.pendingLayerStyles,e]}applyStyle(e){e instanceof o.t?(this._styles.push(e),this._layer.setStyle(e=>this._styles.map(t=>t.style(e)).filter(e=>null!=e))):(this._styles=[],this._layer.setStyle(e)),this.dispatchEvent(new CustomEvent(i.EVENTS.styleChanged,{bubbles:!0,composed:!0,detail:{style:e}}))}_createLayer(){let e=new r.A({title:this._name,source:this._source,updateWhileAnimating:!0,updateWhileInteracting:!0,minResolution:this._minResolution,maxResolution:this._maxResolution,visible:this._visible,opacity:this._opacity});return e.set("id",a.M._counter),e}applyPendingStyles(){this._layer&&(this.pendingLayerStyles?.forEach(e=>this.applyStyle(e)),this.pendingLayerStyles=[])}}}}]);